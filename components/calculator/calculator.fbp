% First step : two fields
l1(ui/label) ui_out -> ui_in#1 lr(ui/lr)
l1() actions_out -> actions_in lr()
"set("x: ")" -> actions_in l1()
f1(ui/entry) ui_out -> ui_in#2 lr()
f1() actions_out -> actions_in lr()
f2(ui/entry) ui_out -> ui_in#3 lr()
f2() actions_out -> actions_in lr()
"set([48])" -> actions_in f1()
"set([48])" -> actions_in f2()


% Second step : lr, button and result field
lr() ui_out -> ui_in#1 td(ui/td)
lr() actions_out -> actions_in td()
calcButton(ui/button) ui_out -> ui_in#2 td()
calcButton() actions_out -> actions_in td()
fResult(ui/entry) ui_out -> ui_in#3 td()
fResult() actions_out -> actions_in td()

% Logic
% From button
% Button to get
calcButton() action#button_clicked -> input buttonLogic(calculator/buttonLogic) click -> input get1(ipEdit) out -> actions_in f1()
get1() out -> actions_in f2()
"opt(text:get(output:getAdd))" -> options get1()
% Field to logicAdd
f1() action#getAdd -> input#1 add(add) output -> input setAdd(ipEdit) out -> actions_in fResult()
f2() action#getAdd -> input#2 add() 
"opt(text:set(_))" -> options setAdd()
% Button color
buttonLogic() color -> actions_in calcButton()

% From TD
td() action#KeyPress -> input buttonLogic()
td() action#KeyRelease -> input buttonLogic()
%td() action#KeyPress => actions_out
%td() action#keyRelease => actions_out
% Specific
f1() action#Enter -> input dispSpecific(display)
"opt(pre:'specific ')" -> options dispSpecific()

% size of field
"set(height:1 width:15)" -> actions_in fResult()
"set(height:1 width:15)" -> actions_in f1()
"set(height:1 width:15)" -> actions_in f2()

% Some options
"set(text:calc)" -> actions_in calcButton()
"set(title:'Calculator')" -> actions_in td()


%OutLinks
td() ui_out => ui_out
td() actions_out => actions_out
actions_in => actions_in aw(ui/actionsWrapper) actions_out -> actions_in td()
